<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}" href="../css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container" style="max-width: 600px">
    <div class="py-5 text-center">
        <h2 th:text="#{page.home}">홈 화면</h2>
    </div>

    <div class="d-flex justify-content-between align-items-center">
        <span class="h4 mb-3" style="padding-top: 20px;">로그인 사용자 이름</span>
        <button type="button" class="btn btn-outline-info" th:text="#{button.edit}"
                th:onclick="|location.href='@{/members/edit}'|">수정</button>
    </div>

    <hr class="my-4">

    <div class="row">
        <div class="col">
            <button class="w-100 btn btn-primary btn-lg" type="button"
                    th:onclick="|location.href='@{/community/board}'|"
                    th:text="#{page.board}">
                게시판
            </button>
        </div>
        <div class="col">
            <form th:action="@{/logout}" method="post">
                <button class="w-100 btn btn-dark btn-lg" th:text="#{page.logout}" type="submit">
                    로그아웃
                </button>
            </form>
        </div>
    </div>

    <hr class="my-4">

</div> <!-- /container -->

<!-- Thymeleaf의 /*[[...]]*/ 표기법을 사용하여 서버 사이드 데이터를 JavaScript 코드로 가져와서 클라이언트 사이드에서 동적으로 조작할 수 있다. -->
<script th:inline="javascript">
    let loggedInUser = /*[[${#httpSession.getAttribute('loginMember')?.nickName}]]*/ null;
    if (loggedInUser != null) {
        let loginMessage = /*[[#{page.login}]]*/ '로그인';
        document.querySelector('.h4').innerHTML = loginMessage + ': ' + loggedInUser;
    }
</script>
</body>
</html>
